(this.webpackJsonpdsp=this.webpackJsonpdsp||[]).push([[0],{16:function(e,t,i){},17:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var n,a=i(0),s=i(1),c=i.n(s),m=i(10),r=i.n(m),u=(i(16),i(4)),o=i(2),d=i(3),l=i(7),p=(i(17),i(9)),b=new Map,j=Object(l.a)(p);try{for(j.s();!(n=j.n()).done;){var h,_=n.value,g=Object(l.a)(_.outputs);try{for(g.s();!(h=g.n()).done;){var O=h.value,v=b.get(O.id);v||(v={id:O.id,asInput:[],asOutput:[]},b.set(O.id,v)),v.asOutput.push(_)}}catch(M){g.e(M)}finally{g.f()}var x,f=Object(l.a)(_.inputs);try{for(f.s();!(x=f.n()).done;){var y=x.value,N=b.get(y.id);N||(N={id:y.id,asInput:[],asOutput:[]},b.set(y.id,N)),N.asInput.push(_)}}catch(M){f.e(M)}finally{f.f()}}}catch(M){j.e(M)}finally{j.f()}var C=Object(d.a)(b.values()).sort((function(e,t){return e.id.localeCompare(t.id)})),w=function(){var e=Object(s.useState)(new Map),t=Object(o.a)(e,2),i=t[0],n=t[1],c=Object(s.useState)(new Map),m=Object(o.a)(c,2),r=m[0],j=m[1],h=Object(s.useState)(new Map),_=Object(o.a)(h,2),g=_[0],O=_[1],v=Object(s.useState)("electromagnetic_matrix"),x=Object(o.a)(v,2),f=x[0],y=x[1],N=Object(s.useState)(1),w=Object(o.a)(N,2),k=w[0],S=w[1],B=Object(s.useState)(60),F=Object(o.a)(B,2),I=F[0],R=F[1],P=Object(s.useState)(1),T=Object(o.a)(P,2),D=T[0],E=T[1],q=Object(s.useCallback)((function(e,t){return n((function(i){return new Map(i.set(e,Object(u.a)(Object(u.a)({},i.get(e)),t)))}))}),[n]),J=Object(s.useCallback)((function(e){return n((function(t){return t.delete(e),new Map(t)}))}),[n]),L=Object(s.useCallback)((function(e,t){return j((function(i){return new Map(i.set(e,Object(u.a)(Object(u.a)({},i.get(e)),t)))}))}),[j]),U=Object(s.useCallback)((function(e){return(e*I).toFixed(D)}),[I,D]);return Object(s.useEffect)((function(){for(var e=new Map,t=Object(d.a)(i).filter((function(e){return!Object(o.a)(e,2)[1].disabled})).map((function(e){var t=Object(o.a)(e,2),i=t[0],n=t[1];return Object(u.a)(Object(u.a)({},n),{},{id:i,implicit:!1})})),n=0,a=function(){var i;n++;var a=t.shift();if(!a||n>1e3)return"break";var s=null===(i=b.get(a.id))||void 0===i?void 0:i.asOutput;if(!s||0===s.length)return"continue";var c=e.get(a.id);c||(c={recipe:null,external:!1,implicit:!0,usedBy:new Map,uses:new Map},e.set(a.id,c));var m=r.get(a.id),u=s.find((function(e){return e.name===(null===m||void 0===m?void 0:m.recipe)}))||s[0];if(c.recipe||(c.recipe=u),null===m||void 0===m?void 0:m.external)return c.external=!0,"continue";a.implicit||(c.implicit=!1,c.usedBy.set(a.id,(c.usedBy.get(a.id)||0)+a.rate));var o,d=u.outputs.find((function(e){return e.id===a.id})).amount/u.time,p=Object(l.a)(u.inputs);try{for(p.s();!(o=p.n()).done;){var j=o.value,h=a.rate/d*(j.amount/u.time);if(c.uses.set(j.id,(c.uses.get(j.id)||0)+h),!c.external){var _=e.get(j.id);if(_||(_={recipe:null,external:!1,implicit:!0,usedBy:new Map,uses:new Map},e.set(j.id,_)),a.id===j.id)continue;_.usedBy.set(a.id,(_.usedBy.get(a.id)||0)+h),t.push({id:j.id,rate:h,disabled:!1,implicit:!0})}}}catch(M){p.e(M)}finally{p.f()}};t.length>0;){var s=a();if("break"===s)break}O(e)}),[i,r]),Object(a.jsxs)("div",{id:"main",children:[Object(a.jsx)("h1",{children:"Dyson Sphere Program Calculator"}),Object(a.jsxs)("div",{id:"settings",children:[Object(a.jsx)("h2",{children:"Settings"}),Object(a.jsxs)("div",{className:"settings-item",children:[Object(a.jsx)("div",{className:"settings-item--name",children:"Rate [s]"}),Object(a.jsx)("div",{className:"settings-item--value",children:Object(a.jsx)("input",{type:"number",value:I,onChange:function(e){return R(Number(e.target.value))}})})]}),Object(a.jsxs)("div",{className:"settings-item",children:[Object(a.jsx)("div",{className:"settings-item--name",children:"Fractional Digits"}),Object(a.jsx)("div",{className:"settings-item--value",children:Object(a.jsx)("input",{type:"number",value:D,onChange:function(e){return E(Number(e.target.value))}})})]})]}),Object(a.jsxs)("div",{id:"plan",children:[Object(a.jsx)("h2",{children:"Planner"}),Object(a.jsxs)("div",{className:"plan-item-header",children:[Object(a.jsx)("div",{className:"plan-item--item",children:"Item"}),Object(a.jsxs)("div",{className:"plan-item--rate",children:["Target rate [1/",I,"s]"]}),Object(a.jsx)("div",{className:"plan-item--action"})]}),Object(a.jsxs)("div",{className:"plan-item",children:[Object(a.jsx)("div",{className:"plan-item--item",children:Object(a.jsx)("select",{value:f,onChange:function(e){return y(e.target.value)},children:C.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.id},e.id)}))})}),Object(a.jsx)("div",{className:"plan-item--rate",children:Object(a.jsx)("input",{type:"number",placeholder:"Target rate",value:k*I,onChange:function(e){return S(Number(e.target.value)/I)}})}),Object(a.jsx)("div",{className:"plan-item--action",children:Object(a.jsx)("button",{onClick:function(){return q(f,{rate:k})},children:"Add"})})]}),Object(d.a)(i).map((function(e){var t=Object(o.a)(e,2),i=t[0],n=t[1];return Object(a.jsxs)("div",{className:"plan-item"+(n.disabled?" disabled":""),children:[Object(a.jsx)("div",{className:"plan-item--item",children:i}),Object(a.jsx)("div",{className:"plan-item--rate",children:Object(a.jsx)("input",{type:"number",placeholder:"Target rate",value:n.rate*I,onChange:function(e){return q(i,{rate:Number(e.target.value)/I})}})}),Object(a.jsxs)("div",{className:"plan-item--action",children:[Object(a.jsx)("button",{onClick:function(){return q(i,{disabled:!n.disabled})},children:n.disabled?"Enable":"Disable"}),Object(a.jsx)("button",{onClick:function(){return J(i)},children:"Remove"})]})]},i)}))]}),Object(a.jsxs)("div",{id:"resources",children:[Object(a.jsx)("h2",{children:"Resources"}),Object(a.jsxs)("div",{className:"resources-item-header",children:[Object(a.jsx)("div",{className:"resources-item--action"}),Object(a.jsx)("div",{className:"resources-item--item",children:"Item"}),Object(a.jsxs)("div",{className:"resources-item--rate",children:["Rate [1/",I,"s]"]}),Object(a.jsx)("div",{className:"resources-item--rate",children:"Machines"}),Object(a.jsx)("div",{className:"resources-item--uses",children:"Uses"}),Object(a.jsx)("div",{className:"resources-item--usedby",children:"Used By"})]}),Object(d.a)(g).filter((function(e){return Object(o.a)(e,2)[1].usedBy.size>0})).map((function(e){var t,i,n=Object(o.a)(e,2),s=n[0],c=n[1],m=Object(d.a)(c.uses.entries()).map((function(e){return{id:e[0],rate:e[1]}})),r=Object(d.a)(c.usedBy.entries()).map((function(e){return{id:e[0],rate:e[1]}})),u=r.reduce((function(e,t){return e+t.rate}),0),l=null===(t=b.get(s))||void 0===t?void 0:t.asOutput,p=c.recipe?c.recipe.outputs.find((function(e){return e.id===s})).amount/c.recipe.time:1,j="resources-item"+(c.implicit?"":" explicit")+(c.external?" external":"");return Object(a.jsxs)("div",{className:j,children:[Object(a.jsx)("div",{className:"resources-item--action",children:c.implicit&&Object(a.jsx)("button",{onClick:function(){return L(s,{external:!c.external})},children:"External"})}),Object(a.jsxs)("div",{className:"resources-item--item",children:[Object(a.jsx)("div",{children:s}),l&&l.length>1&&Object(a.jsx)("div",{children:Object(a.jsx)("select",{value:null===(i=c.recipe)||void 0===i?void 0:i.name,onChange:function(e){return L(s,{recipe:e.target.value})},children:l.map((function(e){return Object(a.jsx)("option",{value:e.name,children:e.name},e.name)}))})})]}),Object(a.jsx)("div",{className:"resources-item--rate",children:U(u)}),Object(a.jsx)("div",{className:"resources-item--machines",children:c.recipe&&"".concat((u/p).toFixed(1),"x ").concat(c.recipe.machine)}),Object(a.jsx)("div",{className:"resources-item--uses",children:m.map((function(e){return Object(a.jsxs)("div",{className:"resources-item--uses-item"+(e.id===s?" recursive":""),children:[Object(a.jsx)("div",{className:"resources-item--uses-item--rate",children:U(e.rate)}),Object(a.jsxs)("div",{className:"resources-item--uses-item--name",children:[e.id,e.id===s&&" \ud83d\udd01"]})]},e.id)}))}),Object(a.jsxs)("div",{className:"resources-item--usedby",children:[!c.implicit&&Object(a.jsxs)("div",{className:"resources-item--usedby-item",children:[Object(a.jsx)("div",{className:"resources-item--usedby-item--rate",children:U(r.find((function(e){return e.id===s})).rate)}),Object(a.jsx)("div",{className:"resources-item--usedby-item--name",children:"Planner"})]}),r.filter((function(e){return e.id!==s})).map((function(e){return Object(a.jsxs)("div",{className:"resources-item--usedby-item",children:[Object(a.jsx)("div",{className:"resources-item--usedby-item--rate",children:U(e.rate)}),Object(a.jsx)("div",{className:"resources-item--usedby-item--name",children:e.id})]},e.id)}))]})]},s)}))]}),Object(a.jsxs)("div",{id:"recipes",children:[Object(a.jsx)("h2",{children:"Recipes"}),Object(a.jsxs)("div",{className:"recipes-item-header",children:[Object(a.jsx)("div",{className:"recipes-item--name",children:"Name"}),Object(a.jsxs)("div",{className:"recipes-item--inputs",children:["Inputs [1/",I,"s]"]}),Object(a.jsx)("div",{className:"recipes-item--time",children:"Time [s]"}),Object(a.jsxs)("div",{className:"recipes-item--outputs",children:["Outputs [1/",I,"s]"]})]}),p.map((function(e,t){return Object(a.jsxs)("div",{className:"recipes-item",children:[Object(a.jsx)("div",{className:"recipes-item--name",children:e.name}),Object(a.jsx)("div",{className:"recipes-item--inputs",children:e.inputs.map((function(t){return Object(a.jsxs)("div",{className:"recipes-item--inputs-item",children:[Object(a.jsx)("div",{className:"recipes-item--inputs-item--amount",children:(t.amount*I/e.time).toFixed(D)}),Object(a.jsx)("div",{className:"recipes-item--inputs-item--name",children:t.id})]},t.id)}))}),Object(a.jsx)("div",{className:"recipes-item--time",children:e.time}),Object(a.jsx)("div",{className:"recipes-item--outputs",children:e.outputs.map((function(t){return Object(a.jsxs)("div",{className:"recipes-item--outputs-item",children:[Object(a.jsx)("div",{className:"recipes-item--outputs-item--amount",children:(t.amount*I/e.time).toFixed(D)}),Object(a.jsx)("div",{className:"recipes-item--outputs-item--name",children:t.id})]},t.id)}))})]},t)}))]})]})},k=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;i(e),n(e),a(e),s(e),c(e)}))};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),k()},9:function(e){e.exports=JSON.parse('[{"name":"iron_ingot","inputs":[{"id":"iron_ore","amount":1}],"outputs":[{"id":"iron_ingot","amount":1}],"time":1,"machine":"smelter"},{"name":"copper_ingot","inputs":[{"id":"copper_ore","amount":1}],"outputs":[{"id":"copper_ingot","amount":1}],"time":1,"machine":"smelter"},{"name":"high_purity_silicon","inputs":[{"id":"silicon_ore","amount":2}],"outputs":[{"id":"high_purity_silicon","amount":1}],"time":2,"machine":"smelter"},{"name":"titanium_ingot","inputs":[{"id":"titanium_ore","amount":2}],"outputs":[{"id":"titanium_ingot","amount":1}],"time":2,"machine":"smelter"},{"name":"stone","inputs":[{"id":"stone_ore","amount":1}],"outputs":[{"id":"stone","amount":1}],"time":1,"machine":"smelter"},{"name":"energetic_graphite","inputs":[{"id":"coal_ore","amount":2}],"outputs":[{"id":"energetic_graphite","amount":1}],"time":2,"machine":"smelter"},{"name":"Plasma Refining","inputs":[{"id":"crude_oil","amount":2}],"outputs":[{"id":"hydrogen","amount":1},{"id":"refined_oil","amount":2}],"time":4,"machine":"oil_refinery"},{"name":"plastic","inputs":[{"id":"refined_oil","amount":2},{"id":"energetic_graphite","amount":1}],"outputs":[{"id":"plastic","amount":1}],"time":3,"machine":"chemical_lab"},{"name":"graphene","inputs":[{"id":"sulfuric_acid","amount":1},{"id":"energetic_graphite","amount":3}],"outputs":[{"id":"graphene","amount":2}],"time":3,"machine":"chemical_lab"},{"name":"magnet","inputs":[{"id":"iron_ore","amount":1}],"outputs":[{"id":"magnet","amount":1}],"time":1.5,"machine":"smelter"},{"name":"magnetic_coil","inputs":[{"id":"magnet","amount":2},{"id":"copper_ingot","amount":1}],"outputs":[{"id":"magnetic_coil","amount":2}],"time":1,"machine":"assembler"},{"name":"crystal_silicon","inputs":[{"id":"high_purity_silicon","amount":1}],"outputs":[{"id":"crystal_silicon","amount":2}],"time":2,"machine":"smelter"},{"name":"titanium_alloy","inputs":[{"id":"titanium_ingot","amount":4},{"id":"steel","amount":4},{"id":"sulfuric_acid","amount":8}],"outputs":[{"id":"titanium_alloy","amount":4}],"time":12,"machine":"smelter"},{"name":"glass","inputs":[{"id":"stone_ore","amount":2}],"outputs":[{"id":"glass","amount":1}],"time":2,"machine":"smelter"},{"name":"diamond","inputs":[{"id":"energetic_graphite","amount":1}],"outputs":[{"id":"diamond","amount":1}],"time":2,"machine":"smelter"},{"name":"X-Ray Cracking","inputs":[{"id":"hydrogen","amount":2},{"id":"refined_oil","amount":1}],"outputs":[{"id":"hydrogen","amount":3},{"id":"energetic_graphite","amount":1}],"time":4,"machine":"oil_refinery"},{"name":"organic_crystal","inputs":[{"id":"plastic","amount":2},{"id":"refined_oil","amount":1},{"id":"water","amount":1}],"outputs":[{"id":"organic_crystal","amount":1}],"time":6,"machine":"chemical_lab"},{"name":"graphene_advanced","inputs":[{"id":"fire_ice","amount":2}],"outputs":[{"id":"graphene","amount":2},{"id":"hydrogen","amount":1}],"time":2,"machine":"chemical_lab"},{"name":"steel","inputs":[{"id":"iron_ingot","amount":3}],"outputs":[{"id":"steel","amount":1}],"time":3,"machine":"smelter"},{"name":"electric_motor","inputs":[{"id":"iron_ingot","amount":2},{"id":"gear","amount":1},{"id":"magnetic_coil","amount":1}],"outputs":[{"id":"electric_motor","amount":1}],"time":2,"machine":"assembler"},{"name":"crystal_silicon_advanced","inputs":[{"id":"fractal_silicon","amount":1}],"outputs":[{"id":"crystal_silicon","amount":1}],"time":4,"machine":"assembler"},{"name":"titanium_glass","inputs":[{"id":"glass","amount":2},{"id":"titanium_ingot","amount":2},{"id":"water","amount":2}],"outputs":[{"id":"titanium_glass","amount":2}],"time":5,"machine":"assembler"},{"name":"prism","inputs":[{"id":"glass","amount":3}],"outputs":[{"id":"prism","amount":2}],"time":2,"machine":"assembler"},{"name":"titanium_crystal","inputs":[{"id":"titanium_ingot","amount":3},{"id":"organic_crystal","amount":1}],"outputs":[{"id":"titanium_crystal","amount":1}],"time":4,"machine":"assembler"},{"name":"strange_matter","inputs":[{"id":"particle_container","amount":2},{"id":"iron_ingot","amount":2},{"id":"deuterium","amount":10}],"outputs":[{"id":"strange_matter","amount":1}],"time":8,"machine":"particle_collider"},{"name":"gear","inputs":[{"id":"iron_ingot","amount":1}],"outputs":[{"id":"gear","amount":1}],"time":1,"machine":"assembler"},{"name":"electromagnetic_turbine","inputs":[{"id":"electric_motor","amount":2},{"id":"magnetic_coil","amount":2}],"outputs":[{"id":"electromagnetic_turbine","amount":1}],"time":2,"machine":"assembler"},{"name":"silicon_ore","inputs":[{"id":"stone_ore","amount":10}],"outputs":[{"id":"silicon_ore","amount":1}],"time":10,"machine":"smelter"},{"name":"circuit_board","inputs":[{"id":"copper_ingot","amount":1},{"id":"iron_ingot","amount":2}],"outputs":[{"id":"circuit_board","amount":2}],"time":1,"machine":"assembler"},{"name":"graviton_lens","inputs":[{"id":"diamond","amount":4},{"id":"strange_matter","amount":1}],"outputs":[{"id":"graviton_lens","amount":1}],"time":6,"machine":"assembler"},{"name":"sulfuric_acid","inputs":[{"id":"refined_oil","amount":6},{"id":"stone_ore","amount":8},{"id":"water","amount":4}],"outputs":[{"id":"sulfuric_acid","amount":4}],"time":6,"machine":"chemical_lab"},{"name":"deuterium","inputs":[{"id":"hydrogen","amount":10}],"outputs":[{"id":"deuterium","amount":5}],"time":5,"machine":"particle_collider"},{"name":"plane_filter","inputs":[{"id":"casimir_crystal","amount":2},{"id":"titanium_glass","amount":2}],"outputs":[{"id":"plane_filter","amount":1}],"time":12,"machine":"assembler"},{"name":"carbon_nanotube","inputs":[{"id":"graphene","amount":3},{"id":"titanium_ingot","amount":1}],"outputs":[{"id":"carbon_nanotube","amount":2}],"time":4,"machine":"chemical_lab"},{"name":"super_magnetic_ring","inputs":[{"id":"electromagnetic_turbine","amount":2},{"id":"magnet","amount":3},{"id":"energetic_graphite","amount":1}],"outputs":[{"id":"super_magnetic_ring","amount":1}],"time":3,"machine":"assembler"},{"name":"particle_broadband","inputs":[{"id":"carbon_nanotube","amount":2},{"id":"crystal_silicon","amount":2},{"id":"plastic","amount":1}],"outputs":[{"id":"particle_broadband","amount":1}],"time":8,"machine":"assembler"},{"name":"processor","inputs":[{"id":"circuit_board","amount":2},{"id":"microcrystalline_component","amount":2}],"outputs":[{"id":"processor","amount":1}],"time":3,"machine":"assembler"},{"name":"casimir_crystal","inputs":[{"id":"titanium_crystal","amount":2},{"id":"graphene","amount":2},{"id":"hydrogen","amount":12}],"outputs":[{"id":"casimir_crystal","amount":1}],"time":4,"machine":"assembler"},{"name":"particle_container","inputs":[{"id":"electromagnetic_turbine","amount":2},{"id":"copper_ingot","amount":2},{"id":"graphene","amount":2}],"outputs":[{"id":"particle_container","amount":1}],"time":4,"machine":"assembler"},{"name":"space_warper","inputs":[{"id":"graviton_lens","amount":1}],"outputs":[{"id":"space_warper","amount":1}],"time":10,"machine":"assembler"},{"name":"solar_sail","inputs":[{"id":"graphene","amount":1},{"id":"photon_combiner","amount":1}],"outputs":[{"id":"solar_sail","amount":2}],"time":4,"machine":"assembler"},{"name":"photon_combiner","inputs":[{"id":"circuit_board","amount":1},{"id":"prism","amount":2}],"outputs":[{"id":"photon_combiner","amount":1}],"time":3,"machine":"assembler"},{"name":"microcrystalline_component","inputs":[{"id":"high_purity_silicon","amount":2},{"id":"copper_ingot","amount":1}],"outputs":[{"id":"microcrystalline_component","amount":1}],"time":2,"machine":"assembler"},{"name":"quantum_processor","inputs":[{"id":"processor","amount":2},{"id":"plane_filter","amount":2}],"outputs":[{"id":"quantum_processor","amount":2}],"time":6,"machine":"assembler"},{"name":"electromagnetic_matrix","inputs":[{"id":"magnetic_coil","amount":1},{"id":"circuit_board","amount":1}],"outputs":[{"id":"electromagnetic_matrix","amount":1}],"time":3,"machine":"matrix_lab"},{"name":"energy_matrix","inputs":[{"id":"energetic_graphite","amount":2},{"id":"hydrogen","amount":2}],"outputs":[{"id":"energy_matrix","amount":1}],"time":6,"machine":"matrix_lab"},{"name":"structure_matrix","inputs":[{"id":"diamond","amount":1},{"id":"titanium_crystal","amount":1}],"outputs":[{"id":"structure_matrix","amount":1}],"time":8,"machine":"matrix_lab"},{"name":"information_matrix","inputs":[{"id":"processor","amount":2},{"id":"particle_broadband","amount":1}],"outputs":[{"id":"information_matrix","amount":1}],"time":10,"machine":"matrix_lab"},{"name":"gravity_matrix","inputs":[{"id":"graviton_lens","amount":1},{"id":"quantum_processor","amount":1}],"outputs":[{"id":"gravity_matrix","amount":2}],"time":24,"machine":"matrix_lab"}]')}},[[18,1,2]]]);
//# sourceMappingURL=main.09dc3a7c.chunk.js.map